{"ast":null,"code":"var _jsxFileName = \"/Users/jantemmerman/Documents/School/Schijf3/CMSDEV/headlesswpXreact/app/src/pages/home.jsx\";\nimport React from 'react';\nimport { ClipLoader } from 'react-spinners';\nimport styles from '../css/home.module.css';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getPosts = () => {\n      this.setState({\n        loading: true\n      });\n      var token = localStorage.getItem('bearerToken');\n      fetch(process.env.REACT_APP_WP_URL + '/wp/wp-json/wp/v2/posts', {\n        method: \"GET\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'Authorization': 'Bearer ' + token\n        }\n      }).then(response => {\n        return response.json();\n      }).then(data => {\n        console.log(data);\n        this.setState({\n          posts: data,\n          loading: false\n        });\n      });\n    };\n\n    this.getPosts = this.getPosts.bind(this);\n    this.state = {\n      posts: [],\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    this.getPosts();\n  }\n\n  rmToken() {\n    localStorage.removeItem('bearerToken');\n    window.location.reload();\n  }\n\n  render() {\n    if (localStorage.getItem('bearerToken')) return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Posts\"), React.createElement(\"div\", {\n      className: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(ClipLoader, {\n      css: 'margin: 0 auto;',\n      sizeUnit: \"px\",\n      size: 30,\n      color: '#123abc',\n      loading: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), this.state.posts.map(function (post, index) {\n      return React.createElement(\"div\", {\n        className: styles.card,\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, post.fimg_url ? React.createElement(\"img\", {\n        className: styles.cardImage,\n        alt: post.title,\n        src: post.fimg_url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }) : \"\", React.createElement(\"h2\", {\n        className: styles.cardTitle,\n        key: index + 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, post.title.rendered), React.createElement(\"p\", {\n        className: styles.cardContent,\n        key: index + 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, post.content.rendered));\n    })), React.createElement(\"button\", {\n      onClick: this.rmToken,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Remove bearer token\"));else return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Posts\"), React.createElement(\"div\", {\n      className: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Login to view posts.\")));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/jantemmerman/Documents/School/Schijf3/CMSDEV/headlesswpXreact/app/src/pages/home.jsx"],"names":["React","ClipLoader","styles","Home","Component","constructor","props","getPosts","setState","loading","token","localStorage","getItem","fetch","process","env","REACT_APP_WP_URL","method","headers","then","response","json","data","console","log","posts","bind","state","componentDidMount","rmToken","removeItem","window","location","reload","render","container","map","post","index","card","fimg_url","cardImage","title","cardTitle","rendered","cardContent","content"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,gBAA3B;AAEA,OAAOC,MAAP,MAAmB,wBAAnB;;AAEA,MAAMC,IAAN,SAAmBH,KAAK,CAACI,SAAzB,CAAmC;AAC/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAkBnBC,QAlBmB,GAkBR,MAAM;AACb,WAAKC,QAAL,CAAc;AACVC,QAAAA,OAAO,EAAE;AADC,OAAd;AAGA,UAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAZ;AACAC,MAAAA,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,gBAAZ,GAA+B,yBAAhC,EAA2D;AAC5DC,QAAAA,MAAM,EAAE,KADoD;AAE5DC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,oBAAU,kBAFL;AAGL,2BAAiB,YAAYR;AAHxB;AAFmD,OAA3D,CAAL,CAOGS,IAPH,CAOSC,QAAD,IAAc;AAClB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,OATD,EASGF,IATH,CASSG,IAAD,IAAU;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,aAAKd,QAAL,CAAc;AACViB,UAAAA,KAAK,EAAEH,IADG;AAEVb,UAAAA,OAAO,EAAE;AAFC,SAAd;AAIH,OAfD;AAgBH,KAvCkB;;AAEf,SAAKF,QAAL,GAAgB,KAAKA,QAAL,CAAcmB,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,KAAL,GAAa;AACTF,MAAAA,KAAK,EAAE,EADE;AAEThB,MAAAA,OAAO,EAAE;AAFA,KAAb;AAIH;;AAEDmB,EAAAA,iBAAiB,GAAG;AAChB,SAAKrB,QAAL;AACH;;AAEDsB,EAAAA,OAAO,GAAG;AACNlB,IAAAA,YAAY,CAACmB,UAAb,CAAwB,aAAxB;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH;;AAyBDC,EAAAA,MAAM,GAAG;AACL,QAAGvB,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAH,EACI,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AAAK,MAAA,SAAS,EAAEV,MAAM,CAACiC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ,oBAAC,UAAD;AACA,MAAA,GAAG,EAAE,iBADL;AAEA,MAAA,QAAQ,EAAE,IAFV;AAGA,MAAA,IAAI,EAAE,EAHN;AAIA,MAAA,KAAK,EAAE,SAJP;AAKA,MAAA,OAAO,EAAE,KAAKR,KAAL,CAAWlB,OALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADR,EAQK,KAAKkB,KAAL,CAAWF,KAAX,CAAiBW,GAAjB,CAAqB,UAASC,IAAT,EAAeC,KAAf,EAAqB;AACvC,aACA;AAAK,QAAA,SAAS,EAAEpC,MAAM,CAACqC,IAAvB;AAA6B,QAAA,GAAG,EAAGD,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACMD,IAAI,CAACG,QAAL,GACI;AAAM,QAAA,SAAS,EAAEtC,MAAM,CAACuC,SAAxB;AAAmC,QAAA,GAAG,EAAEJ,IAAI,CAACK,KAA7C;AAAoD,QAAA,GAAG,EAAEL,IAAI,CAACG,QAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,GAEI,EAHV,EAKI;AAAI,QAAA,SAAS,EAAEtC,MAAM,CAACyC,SAAtB;AAAiC,QAAA,GAAG,EAAGL,KAAK,GAAG,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmDD,IAAI,CAACK,KAAL,CAAWE,QAA9D,CALJ,EAMI;AAAG,QAAA,SAAS,EAAE1C,MAAM,CAAC2C,WAArB;AAAkC,QAAA,GAAG,EAAGP,KAAK,GAAG,CAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoDD,IAAI,CAACS,OAAL,CAAaF,QAAjE,CANJ,CADA;AAUH,KAXA,CARL,CAFJ,EAuBI;AAAQ,MAAA,OAAO,EAAE,KAAKf,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAvBJ,CADJ,CADJ,KA6BI,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AAAK,MAAA,SAAS,EAAE3B,MAAM,CAACiC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,CAFJ,CADJ;AAQP;;AAhF8B;;AAmFnC,eAAehC,IAAf","sourcesContent":["import React from 'react';\nimport { ClipLoader } from 'react-spinners';\n\nimport styles from '../css/home.module.css'\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props)\n        this.getPosts = this.getPosts.bind(this)\n        this.state = {\n            posts: [],\n            loading: false\n        }\n    }\n\n    componentDidMount() {\n        this.getPosts()\n    }\n\n    rmToken() {\n        localStorage.removeItem('bearerToken')\n        window.location.reload()\n    }\n\n    getPosts = () => {\n        this.setState({\n            loading: true\n        })\n        var token = localStorage.getItem('bearerToken')\n        fetch(process.env.REACT_APP_WP_URL + '/wp/wp-json/wp/v2/posts', {\n            method: \"GET\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': 'Bearer ' + token\n            }\n        }).then((response) => {\n            return response.json();\n        }).then((data) => {\n            console.log(data)\n            this.setState({\n                posts: data,\n                loading: false\n            })\n        });\n    }\n\n    render() {\n        if(localStorage.getItem('bearerToken'))\n            return (\n                <div>\n                    <h1>Posts</h1>\n                    <div className={styles.container}>\n                            <ClipLoader\n                            css={'margin: 0 auto;'}\n                            sizeUnit={\"px\"}\n                            size={30}\n                            color={'#123abc'}\n                            loading={this.state.loading}\n                            />\n                        {this.state.posts.map(function(post, index){\n                            return(\n                            <div className={styles.card} key={ index}>\n                                { post.fimg_url\n                                    ? <img  className={styles.cardImage} alt={post.title} src={post.fimg_url}></img>\n                                    : \"\"\n                                }\n                                <h2 className={styles.cardTitle} key={ index + 1}>{post.title.rendered}</h2>\n                                <p className={styles.cardContent} key={ index + 2}>{post.content.rendered}</p>\n                            </div>\n                            )\n                        })}\n                    </div>\n                    <button onClick={this.rmToken}>Remove bearer token</button>\n                </div>\n            )\n        else\n            return (\n                <div>\n                    <h1>Posts</h1>\n                    <div className={styles.container}>\n                        <p>Login to view posts.</p>\n                    </div>\n                </div>\n            )\n    }\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}