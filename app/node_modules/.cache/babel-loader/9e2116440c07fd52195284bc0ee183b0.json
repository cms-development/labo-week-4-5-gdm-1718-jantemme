{"ast":null,"code":"var _jsxFileName = \"/Users/jantemmerman/Documents/School/Schijf3/CMSDEV/headlesswpXreact/app/src/pages/addPost.jsx\";\nimport React from 'react';\nimport styles from '../css/addPost.module.css';\n\nclass AddPosts extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.checkResponse = data => {\n      console.log(data);\n      /*\n      if(data.token) {\n          localStorage.setItem('bearerToken', data.token)\n          this.setState({\n              errorMessage: \"\"\n          })\n          window.location.assign(process.env.REACT_APP_REACT_URL + '/'); \n      } else {\n          this.setState({\n              errorMessage: \"Wrong credentials.\"\n          })\n      }*/\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.state = {\n      title: '',\n      content: '',\n      errorMessage: \"\"\n    };\n  }\n\n  handleSubmit() {\n    const token = localStorage.getItem('bearerToken');\n    fetch(process.env.REACT_APP_WP_URL + '/wp/wp-json/wp/v2/posts/', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Authorization': 'Bearer ' + token\n      },\n      body: JSON.stringify({\n        'title': this.state.title,\n        'content': this.state.content\n      })\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      this.checkResponse(data);\n    });\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Add a post\"), React.createElement(\"div\", {\n      className: styles.formContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      method: \"post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.inputContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: styles.label,\n      for: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"input\", {\n      className: styles.input,\n      name: \"title\",\n      type: \"text\",\n      value: this.state.username,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: styles.inputContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: styles.label,\n      for: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Content\"), React.createElement(\"textarea\", {\n      className: styles.textarea,\n      name: \"content\",\n      value: this.state.password,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      className: styles.button,\n      type: \"Submit\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.state.errorMessage)));\n  }\n\n}\n\nexport default AddPosts;","map":{"version":3,"sources":["/Users/jantemmerman/Documents/School/Schijf3/CMSDEV/headlesswpXreact/app/src/pages/addPost.jsx"],"names":["React","styles","AddPosts","Component","constructor","props","checkResponse","data","console","log","handleSubmit","bind","handleInputChange","state","title","content","errorMessage","token","localStorage","getItem","fetch","process","env","REACT_APP_WP_URL","method","headers","body","JSON","stringify","then","response","json","event","target","value","name","setState","render","formContainer","inputContainer","label","input","username","textarea","password","button"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport styles from '../css/addPost.module.css'\n\nclass AddPosts extends React.Component {\n    constructor(props) {\n        super(props)\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.handleInputChange = this.handleInputChange.bind(this)\n        this.state = {\n            title: '',\n            content: '',\n            errorMessage: \"\",\n        }\n    }\n\n    handleSubmit() {\n        const token = localStorage.getItem('bearerToken')\n        fetch(process.env.REACT_APP_WP_URL + '/wp/wp-json/wp/v2/posts/', {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': 'Bearer ' + token,\n            },\n            body: JSON.stringify({\n                'title': this.state.title,\n                'content': this.state.content,\n            }),\n        }).then((response) => {\n            return response.json();\n        }).then((data) => {\n            this.checkResponse(data)\n        });\n    }\n\n    checkResponse = (data) => {\n        console.log(data)\n        /*\n        if(data.token) {\n            localStorage.setItem('bearerToken', data.token)\n            this.setState({\n                errorMessage: \"\"\n            })\n            window.location.assign(process.env.REACT_APP_REACT_URL + '/'); \n        } else {\n            this.setState({\n                errorMessage: \"Wrong credentials.\"\n            })\n        }*/\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n          [name]: value\n        });\n      }\n\n    render() {\n        return (\n            <div>\n                <h1>Add a post</h1>\n                <div className={styles.formContainer} >\n                    <form method=\"post\">\n                        <div className={styles.inputContainer}>\n                            <label className={styles.label} for=\"title\">Title</label>\n                            <input\n                                className={styles.input} \n                                name=\"title\"\n                                type=\"text\"\n                                value={this.state.username}\n                                onChange={this.handleInputChange} />\n                        </div>\n                        <div className={styles.inputContainer}>\n                            <label className={styles.label} for=\"content\">Content</label>\n                            <textarea\n                                className={styles.textarea} \n                                name=\"content\"\n                                value={this.state.password}\n                                onChange={this.handleInputChange} />\n                        </div>\n                    </form>\n                    <button className={styles.button} type='Submit' onClick={this.handleSubmit}>Login</button>\n                    <p>{this.state.errorMessage}</p>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default AddPosts\n"]},"metadata":{},"sourceType":"module"}